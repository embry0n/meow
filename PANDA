
### Основные методы Pandas для анализа данных

#### 1. **Базовое чтение данных**

~~~python

import pandas as pd
df = pd.read_csv('GoogleApps.csv') # Чтение CSV-файла в DataFrame
~~~


#### 2. **Анализ распределения значений (`value_counts`)**

Метод для подсчета уникальных значений в столбце.

**Пример:**

~~~python


# 1. Сколько приложений в категории 'BUSINESS'?
df['Category'].value_counts() # Покажет количество для каждой категории
# Чтобы получить конкретное значение:
business_count = df['Category'].value_counts()['BUSINESS']
~~~
**Применение:**

- Анализ популярных категорий
    
- Подсчет количества записей для каждого типа
    



#### 3. **Группировка и агрегация данных (`groupby`, `agg`)**

**Базовая группировка:**

~~~python

# 3.1 Средний рейтинг платных приложений
temp = df.groupby(by='Type')['Rating'].mean()
print(temp['Paid'])
~~~
**Несколько агрегатных функций:**

~~~python

# 4. Минимальный и максимальный размер в категории 'COMICS'
df.groupby(by='Category')['Size'].agg(['min', 'max'])
~~~
**Применение:**

- Сравнение показателей между группами
    
- Расчет статистик (среднее, мин/макс, медиана) для категорий
    



#### 4. **Фильтрация данных**

**Простая фильтрация:**

~~~python

# Бонус 1: Приложения с рейтингом > 4.5
df[df['Rating'] > 4.5]
~~~
**Сложные условия (И, ИЛИ):**

~~~python

# Бонус 2: Игры с рейтингом > 4.9
df[(df['Category'] == 'GAME') & (df['Rating'] > 4.9)]
~~~
**Комбинирование фильтрации с другими методами:**

~~~python

# Фильтрация + подсчет
temp = df[df['Rating'] > 4.5]['Category'].value_counts()
temp['FINANCE'] # Количество в конкретной категории
~~~
**Применение:**

- Выборка данных по условиям
    
- Анализ подмножеств данных
    
- Поиск выбросов и аномалий
    



#### 5. **Работа с числовыми данными**

**Округление:**

~~~python

round(число, 2) # Округление до 2 знаков после запятой
~~~
**Соотношения:**

~~~python

# 2. Соотношение Teen к Everyone 10+
temp = df['Content Rating'].value_counts()
ratio = round(temp['Teen'] / temp['Everyone 10+'], 2)
~~~
**Разности:**

~~~python

# 3.2 Разница между платными и бесплатными
difference = round(temp['Paid'] - temp['Free'], 2)
~~~


### Ключевые методы в одной таблице:

| Метод            | Назначение                  | Пример                                |
| ---------------- | --------------------------- | ------------------------------------- |
| `value_counts()` | Подсчет уникальных значений | `df['Category'].value_counts()`       |
| `groupby()`      | Группировка данных          | `df.groupby('Type')['Rating'].mean()` |
| `agg()`          | Множественные агрегации     | `.agg(['min', 'max', 'mean'])`        |
| `df[условие]`    | Фильтрация строк            | `df[df['Rating'] > 4.5]`              |
| `round()`        | Округление чисел            | `round(число, 2)`                     |



----






**Доступные агрегатные функции:**

- `'min'` - минимальное значение
    
- `'max'` - максимальное значение
    
- `'mean'` - среднее значение
    
- `'median'` - медиана
    
- `'std'` - стандартное отклонение
    
- `'count'` - количество элементов
    

---

## 2. Комбинированная фильтрация и группировка

### Фильтрация ДО группировки:

~~~python

# 2. Статистики для платных приложений по возрастным группам
print(df[df['Type'] == 'Paid'].groupby(by='Content Rating')['Price'].agg(['min', 'median', 'max']))
~~~
**Что нового:**

- Цепочка методов: фильтрация → группировка → агрегация
    
- Использование медианы (`median`) вместо среднего
    
- Работа с подмножеством данных
    

---

## 3. Сводные таблицы с `pivot_table()`

### Базовое создание сводной таблицы:

~~~python

# 3. Максимальное количество отзывов по группам
temp = df.pivot_table(
    index='Content Rating',    # Строки
    columns='Category',        # Столбцы  
    values='Reviews',          # Значения
    aggfunc='max'             # Функция агрегации
)
~~~
### Выбор конкретных столбцов из результата:

~~~python

print(temp[['EDUCATION', 'FAMILY', 'GAME']])
~~~
**Параметры pivot_table():**

- `index` - группировка по строкам
    
- `columns` - группировка по столбцам
    
- `values` - значения для агрегации
    
- `aggfunc` - функция агрегации ('mean', 'sum', 'count', 'max', 'min')
    

---

## 4. Работа с пропущенными значениями (NaN)

### Выявление категорий с полным набором данных:

~~~python

# 4. Поиск категорий с приложениями для всех возрастных групп
result = df[df['Type'] == 'Paid'].pivot_table(
    columns='Content Rating', 
    index='Category', 
    values='Reviews', 
    aggfunc='mean'
)
~~~
**Что такое NaN:**

- `NaN` (Not a Number) - отсутствие данных в группе
    
- Появляется когда в группировке нет ни одной записи
    
- Помогает идентифицировать "пропуски" в данных
    

---

## 5. Анализ полноты данных

### Поиск неполных категорий:

~~~python

# Бонус: Категории без приложений для всех возрастных групп
print(df[df['Type'] == 'Free'].pivot_table(
    index='Category', 
    columns='Content Rating', 
    values='Reviews', 
    aggfunc='mean'
))
~~~
**Методы анализа:**

- Поиск столбцов/строк с NaN значениями
    
- Идентификация категорий с неполным охватом
    
- Сравнение полноты данных между группами
    

---

## Новые концепции и методы

|Концепция|Описание|Пример|
|---|---|---|
|`pivot_table()`|Создание сводных таблиц|`df.pivot_table(index='A', columns='B', values='C')`|
|Множественная агрегация|Несколько функций в `agg()`|`.agg(['min', 'max', 'mean'])`|
|Цепочка методов|Комбинация фильтрации и группировки|`df[условие].groupby().agg()`|
|NaN значения|Отсутствующие данные в группах|Автоматически в `pivot_table`|
|Выбор столбцов|Работа с частями таблицы|`temp[['col1', 'col2']]`|

---

## Практическое применение

### Для анализа полноты данных:

~~~python

# Какие категории охватывают все возрастные группы?
paid_table = df[df['Type'] == 'Paid'].pivot_table(
    columns='Content Rating', 
    index='Category', 
    values='Reviews', 
    aggfunc='mean'
)
~~~
# Категории без NaN - полный охват

### Для сравнительного анализа:

~~~python

# Сравнение категорий между собой
comparison = df.pivot_table(
    index='Content Rating',
    columns='Category', 
    values='Reviews', 
    aggfunc='max'
)
education_stats = comparison[['EDUCATION', 'FAMILY', 'GAME']]
~~~
